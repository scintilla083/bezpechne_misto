# ะะตะทะฟะตัะฝะต ะผัััะพ โ Django + Aiogram ะฑะพั

ะฆะตะน ะฟัะพัะบั ัะบะปะฐะดะฐััััั ะท:

- **Django** โ ะฑะตะบะตะฝะด ัะฐ ะฐะดะผัะฝ-ะฟะฐะฝะตะปั
- **Aiogram-ะฑะพั** โ Telegram-ะฑะพั ะดะปั ะทะฑะพัั ะทะฒะตัะฝะตะฝั
- **SQLite** ะทะฐ ะทะฐะผะพะฒััะฒะฐะฝะฝัะผ (ะผะพะถะฝะฐ ะทะฐะผัะฝะธัะธ ะฝะฐ Postgres)

## 1. ะัะดะณะพัะพะฒะบะฐ

1. ะััะฐะฝะพะฒััั **Python 3.10+**.
2. ะะปะพะฝัะนัะต/ัะพะทะฟะฐะบัะนัะต ัะตะน ะฟัะพัะบั.
3. ะกัะฒะพัััั ัะฐ ะฐะบัะธะฒัะนัะต ะฒััััะฐะปัะฝะต ัะตัะตะดะพะฒะธัะต:

   ```bash
   python -m venv venv
   # Windows
   venv\Scripts\activate
   # Linux / macOS
   source venv/bin/activate
   ```

4. ะััะฐะฝะพะฒััั ะทะฐะปะตะถะฝะพััั:

   ```bash
   pip install -r requirements.txt
   ```

## 2. ะะฐะปะฐัััะฒะฐะฝะฝั ะพัะพัะตะฝะฝั

ะกัะฒะพัััั ัะฐะนะป `.env` ั ะบะพัะตะฝั ะฟัะพัะบัั (ะฟะพััั ะท `manage.py`) ะฝะฐ ะพัะฝะพะฒั `.env.example`:

```bash
cp .env.example .env  # Linux / macOS
# ะฐะฑะพ ััะฒะพัััั ะฒัััะฝั ะฝะฐ Windows
```

ะะฟะธัััั ั `.env` ะฒะฐั ัะพะบะตะฝ ะฑะพัะฐ:

```env
BOT_TOKEN=ะะะจ_ะขะะะะ_ะขะะะะะะะ_ะะะขะ
DJANGO_DEBUG=True
DJANGO_SECRET_KEY=django-insecure-change-me
```

## 3. ะะฐะปะฐัััะฒะฐะฝะฝั ัะฐ ะทะฐะฟััะบ Django

ะ ะบะพัะตะฝั ะฟัะพัะบัั (`safe_city/`):

```bash
python manage.py migrate
python manage.py createsuperuser  # ััะฒะพัะตะฝะฝั ะฐะดะผัะฝะฐ
```

ะะฐะฟััะบ ะดะตะฒ-ัะตัะฒะตัะฐ:

```bash
python manage.py runserver
```

ะะดะผัะฝ-ะฟะฐะฝะตะปั ะฑัะดะต ะดะพัััะฟะฝะฐ ะทะฐ ะฐะดัะตัะพั: `http://127.0.0.1:8000/admin/`

ะฃ ะฐะดะผัะฝ-ะฟะฐะฝะตะปั ะฒะธ ะฟะพะฑะฐัะธัะต:
- ะบะพัะธัััะฒะฐััะฒ Telegram
- ะทะฒะตัะฝะตะฝะฝั
- ะฟัะธะบััะฟะปะตะฝั ะผะตะดัะฐ

## 4. ะะฐะฟััะบ Telegram-ะฑะพัะฐ

ะ ัะฝัะพะผั ัะตัะผัะฝะฐะปั (ะท ะฐะบัะธะฒะฝะธะผ venv) ะทะฐะฟัััััั ะฑะพัะฐ:

```bash
python -m bot.main
```

ะะพั ะฒะธะบะพัะธััะพะฒัั ัั ะถ ัะฐะผั ะผะพะดะตะปั Django (ัะตัะตะท `django.setup()`), ัะพะผั ะฒัั ะทะฒะตัะฝะตะฝะฝั ะฑัะดััั ะทะฑะตััะณะฐัะธัั ะฒ ััะน ะถะต ะฑะฐะทั ะดะฐะฝะธั.

## 5. ะกัััะบัััะฐ ะฟัะพัะบัั

```text
safe_city/
โโโ manage.py
โโโ requirements.txt
โโโ README.md
โโโ .env.example
โโโ safe_city/
โ   โโโ __init__.py
โ   โโโ settings.py
โ   โโโ urls.py
โ   โโโ wsgi.py
โ   โโโ asgi.py
โโโ apps/
โ   โโโ reports/
โ       โโโ __init__.py
โ       โโโ apps.py
โ       โโโ models.py
โ       โโโ admin.py
โ       โโโ migrations/
โโโ bot/
โ   โโโ __init__.py
โ   โโโ main.py
โ   โโโ config.py
โ   โโโ texts.py
โ   โโโ keyboards.py
โ   โโโ states.py
โ   โโโ handlers/
โ       โโโ __init__.py
โ       โโโ start.py
โ       โโโ main_menu.py
โ       โโโ police.py
โ       โโโ utility.py
โ       โโโ mayor.py
โ       โโโ feedback.py
โ       โโโ change_city.py
โโโ media/
โโโ static/
```

## 6. ะัะฝะพะฒะฝั ััะตะฝะฐััั ะฑะพัะฐ

- `/start` โ ะฟัะธะฒััะฐะฝะฝั, ะทะฐะฟะธั ะฝะฐัะตะปะตะฝะพะณะพ ะฟัะฝะบัั, ะทะฑะตัะตะถะตะฝะฝั ะผัััะฐ ะบะพัะธัััะฒะฐัะฐ
- ะะพะปะพะฒะฝะต ะผะตะฝั ะท ะบะฝะพะฟะบะฐะผะธ:
  1. ะะพะฟะพะฒัััะธ ะฟัะพ ะฟัะฐะฒะพะฟะพัััะตะฝะฝั ๐ฎ
  2. ะกัะฒะพัะธัะธ ะทะฒะตัะฝะตะฝะฝั/ัะบะฐัะณั ะบะพะผัะฝะฐะปัะฝะพะผั ะฟัะดะฟัะธัะผััะฒั ๐ง
  3. ะะฐะฟะธัะฐัะธ ะทะฒะตัะฝะตะฝะฝั ะฒ ะผะตััั ๐จโ๐ผ
  4. ะัะพ ะฑะพัะฐ ๐ค
  5. ะะฐะดะฐัะธ ะทะฒะพัะพัะฝัะน ะทะฒ'ัะทะพะบ ๐
  6. ะะผัะฝะธัะธ ะผัััะพ ๐๏ธ

ะัั ะทะฒะตัะฝะตะฝะฝั ะทะฑะตััะณะฐััััั ะฒ ะฑะฐะทั ัะฐ ะดะพัััะฟะฝั ะฒ ะฐะดะผัะฝ-ะฟะฐะฝะตะปั.
